<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <title>Document</title>
    <link rel="stylesheet" href="api.css">
    <script>
        let tablica;
        function axiosTest(miasto) {

            axios.get('https://api.openweathermap.org/data/2.5/weather?q='+miasto+'&lang=pl&units=metric&APPID=1b8d1337093372fdbecc1ef3c280d2b8')
                .then(response => {
                    tablica = Object.assign({}, response.data);
                    console.log(tablica);
                    document.querySelector('.xd').innerHTML =
                    '<div class="mobile">'+
                        '<h1>'+ response.data.name +'</h1>'+
                        '<div class="temp">'+
                            '<img src="http:openweathermap.org/img/w/'+  response.data.weather[0].icon +'.png" class="temp-icon" />'+
                            '<span class="temp-temp">'+ response.data.main.temp +'°C</span>'+
                        '</div>'+
                        '<span class="feels--bigger"> '+ response.data.weather[0].description+'</span>'+
                        '<span class="feels"> Odczuwalna: '+ response.data.main.feels_like+'°C</span>'+
                        '<span class="feels">Wilgotność:'+  response.data.main.humidity  +'%</span>'+
                        '<span class="feels">Wiatr:'+  response.data.wind.speed  +'km/h</span>'+
                        '<span class="feels">Min/max: '+  response.data.main.temp_min  +'°C/'+  response.data.main.temp_max +' °C</span>'+
                    '</div>';
                    return tablica;
                })
                .catch(error => {
                    document.querySelector('.xd').innerHTML = '<span class="xddddd">Nie znaleziono miasta</span>';
                });
        }
    </script>
</head>
<body>
    <div class="city">
        <h1>Wpisz miejscowość:</h1>
        <input autocomplete="off" name="miasto" id="tak" type="text">
        <button  class="jd" >Zatwierdź</button>
        <button onclick="console.log(tablica); document.querySelector('.xdjd').innerHTML =tablica.name">jd</button>
        <span class="xdjd"></span>
    </div>
    <span class="xd"></span>
    <script>
    document.querySelector('.jd').addEventListener('click', () => {
        axiosTest(document.getElementById('tak').value);
    });
    </script>
</body>
</html>